# GitHub Actions

GitHub Action을 사용하면 코드를 저장소에 푸시하기만 하면 쉽게 번역할 수 있습니다. 그러면 GitHub Action이 새로운 키를 번역하고, 풀 리퀘스트를 생성하거나 변경 사항을 커밋합니다.
이렇게 하면 많은 시간과 노력을 절약하면서도 높은 품질의 번역을 유지할 수 있습니다.

---

## 작동 방식



<div className="flex flex-col items-center justify-center p-4 mb-8 h-[400px] sm:h-[500px] md:h-[650px]">
        <pre
          className="p-4 text-sm leading-5 scale-[0.5] sm:scale-[0.65] md:scale-90 transform-gpu"
          style={{
            fontFamily: "monospace",
            whiteSpace: "pre",
            textAlign: "left",
          }}
        >
          {`
                                  ┌───────────────┐
                                  │   Git Push    │
                                  └───────────────┘
                                          │
                                          ▼
             ┌─────────────────────────────────────────────────────────┐
             │░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
             │░░░░░░░░░░░░░░░░░░░░ Languine Engine ░░░░░░░░░░░░░░░░░░░░│
             │░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
             └─────────────────────────────────────────────────────────┘
                                          │
                                          ▼
                                          │
            ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┼ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─
           │                              │                              │
           ▼                              ▼                              ▼
 ╔═══════════════════╗          ╔═══════════════════╗          ╔═══════════════════╗
 ║                   ║          ║                   ║          ║                   ║
 ║      영어        ║          ║      스페인어    ║          ║      일본어      ║
 ║    번역          ║          ║    번역          ║          ║     번역        ║
 ║                   ║          ║                   ║          ║                   ║
 ╚═══════════════════╝          ╚═══════════════════╝          ╚═══════════════════╝
           │                              │                              │
           └──────────────────────────────┼──────────────────────────────┘
                                          ▼
                                  ┌───────────────┐
                                  │     병합      │
                                  │ 풀 리퀘스트   │
                                  └───────────────┘
                                          │
                                          ▼
                              ┌─────────────────────┐
                              │      완료됨        │
                              │      (배포)        │
                              └─────────────────────┘
`}
        </pre>
      </div>

---

## 설치

저장소에서 Languine GitHub Action을 사용하려면 다음을 수행해야 합니다:

1. Languine 자격 증명으로 저장소 비밀을 설정합니다.
2. 저장소에 워크플로 파일을 생성합니다.

### 저장소 비밀 설정

저장소 설정(설정 > 비밀 및 변수 > 작업)에서 다음 비밀을 추가합니다:

- `LANGUINE_API_KEY`: Languine API 키
- `LANGUINE_PROJECT_ID`: Languine 프로젝트 ID

이 값은 Languine 대시보드의 프로젝트 설정에서 찾을 수 있습니다.



### 환경 변수

GitHub Action은 다음 환경 변수를 사용합니다:
- `LANGUINE_API_KEY` (필수): 인증을 위한 Languine API 키
- `LANGUINE_PROJECT_ID` (필수): Languine 프로젝트 ID 
- `GITHUB_TOKEN` (필수): GitHub에서 자동으로 제공되며, PR 생성을 위해 사용됩니다.

### 예제 워크플로

저장소에 다음 내용을 포함한 .github/workflows/languine.yml 파일을 새로 만듭니다:

```ts title=".github/workflows/release.yml"
name: 웹사이트 배포

on:
  push:
    branches:
      - '**'
    paths:
      - apps/web/**

jobs:
  translate:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      
      - name: Languine Action
        uses: languine/languine-action@v1
        env:
           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          api-key: ${{ secrets.LANGUINE_API_KEY }}
          project-id: ${{ secrets.LANGUINE_PROJECT_ID }}
```
 
 이 워크플로는:
- 메인 브랜치에 푸시할 때 실행됩니다.
- 메인 브랜치에 대한 풀 리퀘스트에서 실행됩니다.
- 작업 탭에서 수동으로 트리거할 수 있습니다.
- 코드를 체크아웃하고 Languine 번역 프로세스를 실행합니다.
- 새로운 번역이 있을 경우 풀 리퀘스트를 생성합니다(구성 가능).

#### 작업 디렉토리 옵션

`working-directory` 옵션을 사용하면 번역 파일이 위치한 경로를 지정할 수 있습니다. 이는 번역이 특정 패키지나 앱 디렉토리에 있을 수 있는 모노레포에서 특히 유용합니다. 예를 들어:

#### 풀 리퀘스트 옵션

`create-pull-request` 옵션은 작업이 변경 사항으로 풀 리퀘스트를 생성할지 아니면 직접 브랜치에 커밋할지를 제어합니다:

```typescript title=".github/workflows/languine.yml"
with:
  create-pull-request: true # 변경 사항으로 풀 리퀘스트 생성
```

`true`로 설정하면 작업은:
- 변경 사항으로 새로운 브랜치를 생성합니다.
- 검토를 위한 풀 리퀘스트를 생성합니다.
- 적절한 레이블과 설명을 추가합니다.

`false`(기본값)로 설정하면 작업은:
- 현재 브랜치에 직접 변경 사항을 커밋합니다.
- 풀 리퀘스트를 생성하지 않고 변경 사항을 푸시합니다.