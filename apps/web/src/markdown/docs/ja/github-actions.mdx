# GitHub Actions

GitHub Actionsを使用すると、リポジトリにコードをプッシュするだけで簡単にコードを翻訳できます。GitHub Actionsは新しいキーを翻訳し、プルリクエストを作成するか、変更をコミットします。
これにより、高品質な翻訳を維持しながら、多くの時間と労力を節約できます。

---

## インストール

リポジトリでLanguine GitHub Actionを使用するには、次の手順を実行する必要があります。

1. Languineの資格情報を使用してリポジトリのシークレットを設定します。
2. リポジトリにワークフローファイルを作成します。

### リポジトリシークレットの設定

リポジトリ設定（設定 > シークレットと変数 > Actions）に次のシークレットを追加します。

- `LANGUINE_API_KEY`: あなたのLanguine APIキー
- `LANGUINE_PROJECT_ID`: あなたのLanguineプロジェクトID

これらの値は、Languineダッシュボードのプロジェクト設定で見つけることができます。



### 環境変数

GitHub Actionは次の環境変数を使用します。
- `LANGUINE_API_KEY`（必須）：認証のためのあなたのLanguine APIキー
- `LANGUINE_PROJECT_ID`（必須）：あなたのLanguineプロジェクトID
- `GITHUB_TOKEN`（必須）：GitHubによって自動的に提供され、PRの作成に使用されます。

### 例ワークフロー

リポジトリに次の内容で新しいファイル .github/workflows/languine.yml を作成します。

```ts title=".github/workflows/release.yml"
name: ウェブサイトのデプロイ

on:
  push:
    branches:
      - '**'
    paths:
      - apps/web/**

jobs:
  translate:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      
      - name: Languine Action
        uses: languine/languine-action@v1
        env:
           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          api-key: ${{ secrets.LANGUINE_API_KEY }}
          project-id: ${{ secrets.LANGUINE_PROJECT_ID }}
```
 
 このワークフローは次のことを行います。
- メインブランチへのプッシュ時に実行されます。
- メインブランチへのプルリクエスト時に実行されます。
- Actionsタブから手動でトリガーできます。
- コードをチェックアウトし、Languine翻訳プロセスを実行します。
- 新しい翻訳があればプルリクエストを作成します（設定可能）。

#### 作業ディレクトリオプション

`working-directory`オプションを使用すると、翻訳ファイルがどこにあるかを指定できます。これは、翻訳が特定のパッケージやアプリディレクトリにあるモノレポで特に便利です。例えば：

#### プルリクエストオプション

`create-pull-request`オプションは、アクションが変更を含むプルリクエストを作成するか、直接ブランチにコミットするかを制御します。

```typescript title=".github/workflows/languine.yml"
with:
  create-pull-request: true # 変更を含むプルリクエストを作成します
```

`true`に設定すると、アクションは次のことを行います。
- 変更を含む新しいブランチを作成します。
- レビューのためのプルリクエストを作成します。
- 適切なラベルと説明を追加します。

`false`（デフォルト）に設定すると、アクションは次のことを行います。
- 現在のブランチに直接変更をコミットします。
- プルリクエストを作成せずに変更をプッシュします。