# GitHub Actions

Med GitHub Action kan du enkelt översätta din kod genom att bara trycka på din kod till repositoryt, GitHub Action kommer sedan att översätta dina nya nycklar, antingen skapa en pull request eller begå dina ändringar.
Detta sparar dig mycket tid och ansträngning samtidigt som högkvalitativa översättningar bibehålls.

---

## Hur det fungerar



<div className="flex flex-col items-center justify-center p-4 mb-8 h-[400px] sm:h-[500px] md:h-[650px]">
        <pre
          className="p-4 text-sm leading-5 scale-[0.5] sm:scale-[0.65] md:scale-90 transform-gpu"
          style={{
            fontFamily: "monospace",
            whiteSpace: "pre",
            textAlign: "left",
          }}
        >
          {`
                                  ┌───────────────┐
                                  │   Git Push    │
                                  └───────────────┘
                                          │
                                          ▼
             ┌─────────────────────────────────────────────────────────┐
             │░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
             │░░░░░░░░░░░░░░░░░░░░ Languine Engine ░░░░░░░░░░░░░░░░░░░░│
             │░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
             └─────────────────────────────────────────────────────────┘
                                          │
                                          ▼
                                          │
            ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┼ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─
           │                              │                              │
           ▼                              ▼                              ▼
 ╔═══════════════════╗          ╔═══════════════════╗          ╔═══════════════════╗
 ║                   ║          ║                   ║          ║                   ║
 ║      Engelska     ║          ║      Spanska      ║          ║      Japanska     ║
 ║    Översättning    ║          ║    Översättning    ║          ║     Översättning   ║
 ║                   ║          ║                   ║          ║                   ║
 ╚═══════════════════╝          ╚═══════════════════╝          ╚═══════════════════╝
           │                              │                              │
           └──────────────────────────────┼──────────────────────────────┘
                                          ▼
                                  ┌───────────────┐
                                  │     Sammanfoga  │
                                  │ Pull Request  │
                                  └───────────────┘
                                          │
                                          ▼
                              ┌─────────────────────┐
                              │      Slutförd       │
                              │      (Distribuera)  │
                              └─────────────────────┘
`}
        </pre>
      </div>

---

## Installation

För att använda Languine GitHub Action i ditt repository, behöver du:

1. Ställa in dina repository-hemligheter med dina Languine-uppgifter
2. Skapa en arbetsflödesfil i ditt repository

### Ställa in Repository-hemligheter

Lägg till följande hemligheter i dina repository-inställningar (Inställningar > Hemligheter och variabler > Åtgärder):

- `LANGUINE_API_KEY`: Din Languine API-nyckel
- `LANGUINE_PROJECT_ID`: Ditt Languine projekt-ID

Du kan hitta dessa värden i din Languine-instrumentpanel under Projektinställningar.



### Miljövariabler

GitHub Action använder följande miljövariabler:
- `LANGUINE_API_KEY` (Obligatorisk): Din Languine API-nyckel för autentisering
- `LANGUINE_PROJECT_ID` (Obligatorisk): Ditt Languine projekt-ID 
- `GITHUB_TOKEN` (Obligatorisk): Automatiskt tillhandahållen av GitHub, används för att skapa PRs

### Exempel på arbetsflöde

Skapa en ny fil .github/workflows/languine.yml i ditt repository med följande innehåll:

```ts title=".github/workflows/release.yml"
name: Distribuera webbplats

on:
  push:
    branches:
      - '**'
    paths:
      - apps/web/**

jobs:
  translate:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      
      - name: Languine Action
        uses: languine/languine-action@v1
        env:
           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          api-key: ${{ secrets.LANGUINE_API_KEY }}
          project-id: ${{ secrets.LANGUINE_PROJECT_ID }}
```
 
 Detta arbetsflöde kommer att:
- Körs vid tryck på huvudgrenen
- Körs vid pull requests till huvudgrenen
- Kan utlösas manuellt från Åtgärder-fliken
- Checkout din kod och köra Languine översättningsprocess
- Skapa en pull request med eventuella nya översättningar (konfigurerbar)

#### Arbetskatalogalternativ

Alternativet `working-directory` låter dig specificera var dina översättningsfiler finns. Detta är särskilt användbart i monorepos där dina översättningar kan vara i en specifik paket- eller appkatalog. Till exempel:

#### Pull Request-alternativ

Alternativet `create-pull-request` styr huruvida åtgärden skapar en pull request med ändringarna eller begår dem direkt till grenen:

```typescript title=".github/workflows/languine.yml"
with:
  create-pull-request: true # skapa en pull request med ändringarna
```

När det är inställt på `true`, kommer åtgärden att:
- Skapa en ny gren med ändringarna
- Skapa en pull request för granskning
- Lägga till lämpliga etiketter och beskrivning

När det är inställt på `false` (standard), kommer åtgärden att:
- Begå ändringarna direkt till den aktuella grenen
- Trycka ändringarna utan att skapa en pull request