# GitHub Actions

ด้วย GitHub Action คุณสามารถแปลโค้ดของคุณได้อย่างง่ายดายเพียงแค่ผลักดันโค้ดของคุณไปยังที่เก็บ GitHub Action จะทำการแปลคีย์ใหม่ของคุณ จากนั้นสร้าง pull request หรือบันทึกการเปลี่ยนแปลงของคุณ
สิ่งนี้ช่วยประหยัดเวลาและความพยายามของคุณในขณะที่รักษาคุณภาพการแปลที่สูง

---

## การติดตั้ง

ในการใช้ Languine GitHub Action ในที่เก็บของคุณ คุณจะต้อง:

1. ตั้งค่าความลับของที่เก็บของคุณด้วยข้อมูลรับรอง Languine ของคุณ
2. สร้างไฟล์ workflow ในที่เก็บของคุณ

### การตั้งค่าความลับของที่เก็บ

เพิ่มความลับต่อไปนี้ในการตั้งค่าที่เก็บของคุณ (Settings > Secrets and variables > Actions):

- `LANGUINE_API_KEY`: คีย์ API ของ Languine ของคุณ
- `LANGUINE_PROJECT_ID`: รหัสโครงการ Languine ของคุณ

คุณสามารถค้นหาค่าต่างๆ เหล่านี้ได้ในแดชบอร์ด Languine ของคุณภายใต้การตั้งค่าโครงการ



### ตัวแปรสภาพแวดล้อม

GitHub Action ใช้ตัวแปรสภาพแวดล้อมต่อไปนี้:
- `LANGUINE_API_KEY` (จำเป็น): คีย์ API ของ Languine ของคุณสำหรับการตรวจสอบสิทธิ์
- `LANGUINE_PROJECT_ID` (จำเป็น): รหัสโครงการ Languine ของคุณ
- `GITHUB_TOKEN` (จำเป็น): จัดเตรียมโดย GitHub โดยอัตโนมัติ ใช้สำหรับการสร้าง PRs

### ตัวอย่าง Workflow

สร้างไฟล์ใหม่ .github/workflows/languine.yml ในที่เก็บของคุณด้วยเนื้อหาต่อไปนี้:

```ts title=".github/workflows/release.yml"
name: Deploy Website

on:
  push:
    branches:
      - '**'
    paths:
      - apps/web/**

jobs:
  translate:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      
      - name: Languine Action
        uses: languine/languine-action@v1
        env:
           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          api-key: ${{ secrets.LANGUINE_API_KEY }}
          project-id: ${{ secrets.LANGUINE_PROJECT_ID }}
```
 
 Workflow นี้จะ:
- ทำงานเมื่อมีการผลักดันไปยังสาขาหลัก
- ทำงานเมื่อมีการสร้าง pull request ไปยังสาขาหลัก
- สามารถเรียกใช้ด้วยตนเองจากแท็บ Actions
- ตรวจสอบโค้ดของคุณและดำเนินการแปล Languine
- สร้าง pull request พร้อมการแปลใหม่ใดๆ (สามารถกำหนดค่าได้)

#### ตัวเลือกไดเรกทอรีการทำงาน

ตัวเลือก `working-directory` ช่วยให้คุณสามารถระบุได้ว่าไฟล์การแปลของคุณอยู่ที่ไหน ซึ่งมีประโยชน์โดยเฉพาะใน monorepos ที่การแปลของคุณอาจอยู่ในแพ็คเกจหรือไดเรกทอรีแอปเฉพาะ

#### ตัวเลือก Pull Request

ตัวเลือก `create-pull-request` ควบคุมว่าการกระทำจะสร้าง pull request พร้อมการเปลี่ยนแปลงหรือบันทึกการเปลี่ยนแปลงโดยตรงไปยังสาขาหรือไม่:

```typescript title=".github/workflows/languine.yml"
with:
  create-pull-request: true # สร้าง pull request พร้อมการเปลี่ยนแปลง
```

เมื่อกำหนดเป็น `true` การกระทำจะ:
- สร้างสาขาใหม่พร้อมการเปลี่ยนแปลง
- สร้าง pull request สำหรับการตรวจสอบ
- เพิ่มป้ายกำกับและคำอธิบายที่เหมาะสม

เมื่อกำหนดเป็น `false` (ค่าเริ่มต้น) การกระทำจะ:
- บันทึกการเปลี่ยนแปลงโดยตรงไปยังสาขาปัจจุบัน
- ผลักดันการเปลี่ยนแปลงโดยไม่สร้าง pull request