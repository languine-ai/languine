# Конфигурация

Languine поддерживает как файлы конфигурации TypeScript, так и JSON для управления вашей настройкой перевода. Вы можете выбрать либо languine.config.ts для TypeScript, либо languine.json для формата JSON. Оба файла определяют ваши исходные и целевые языки, а также файлы, которые необходимо перевести.

---

## Основная конфигурация

Вот базовый пример в обоих форматах:

```typescript title="languine.config.ts"
import { defineConfig } from "languine";

export default defineConfig({
  locale: {
    source: "en",
    targets: ["es", "fr", "de"],
  },
  files: {
    json: {
      include: ["locales/[locale].json"],
    },
  },
});
```

```json title="languine.json"
{
  "locale": {
    "source": "en",
    "targets": ["es", "fr", "de"]
  },
  "files": {
    "json": {
      "include": ["locales/[locale].json"]
    }
  }
}
```

Оба формата поддерживают одни и те же параметры конфигурации. Выберите TypeScript для лучшей проверки типов и поддержки IDE, или JSON для простоты и более широкой совместимости с инструментами.

Давайте разберем различные разделы этих файлов.

---

## Конфигурация локали

Раздел локали определяет ваши языки перевода:

- source: Ваш основной язык для создания контента (например, "en" для английского)
- targets: Массив языков, на которые вы хотите перевести (например, ["es", "fr", "de"] для испанского, французского и немецкого)

Languine поддерживает широкий спектр языковых кодов, включая:
- Простые коды: en, es, fr, de
- Региональные коды: pt-BR, zh-CN, zh-TW

## Конфигурация файлов

Раздел файлов определяет, какие файлы Languine должен перевести. Вы можете настроить несколько типов файлов и шаблонов:

---

### JSON файлы
```typescript
files: {
  json: {
    include: ["locales/[locale].json"],
  },
}
```

---

### Markdown/MDX файлы
```typescript
files: {
  md: {
    include: ["docs/[locale]/*.md"],
  },
  mdx: {
    include: ["blog/[locale]/*.mdx"],
  },
}
```

---

### Файлы мобильной платформы

Для iOS (Xcode):
```typescript
files: {
  "xcode-xcstrings": {
    include: ["Example/Localizable.xcstrings"],
  },
  // Или для традиционных .strings файлов
  "xcode-strings": {
    include: ["Example/[locale].lproj/Localizable.strings"],
  },
}
```

---

Для Android:
```typescript
files: {
  android: {
    include: ["locales/[locale].xml"],
  },
}
```

---

### Другие форматы

Вот полный список форматов файлов, поддерживаемых Languine:

- [JSON](/docs/json) - Стандартные файлы перевода JSON
- [YAML](/docs/yaml) - Файлы перевода YAML
- [Properties](/docs/properties) - Java файлы свойств
- [Android](/docs/android) - Файлы ресурсов XML для Android
- [iOS](/docs/ios) - Файлы локализации iOS
- [iOS Stringsdict](/docs/xcode-stringsdict) - Файлы плюрализации iOS
- [iOS XCStrings](/docs/xcode-xcstrings) - Современные каталоги строк Xcode
- [Markdown](/docs/md) - Файлы документации
- [MDX](/docs/mdx) - Документация с JSX
- [HTML](/docs/html) - HTML файлы
- [JavaScript](/docs/js) - Файлы JavaScript
- [TypeScript](/docs/ts) - Файлы TypeScript
- [Gettext PO](/docs/po) - Файлы перевода GetText
- [XLIFF](/docs/xliff) - Формат обмена локализацией XML
- [CSV](/docs/csv) - Переводы на основе таблиц
- [XML](/docs/xml) - XML файлы ресурсов
- [Flutter ARB](/docs/arb) - Файлы пакетов ресурсов приложений

---

## Шаблоны файлов

Плейсхолдер [locale] в шаблонах файлов автоматически заменяется на соответствующий языковой код во время перевода. Например:

- locales/[locale].json становится:
  - locales/en.json
  - locales/es.json
  - locales/fr.json

Вы можете включить несколько шаблонов для каждого типа файла и использовать шаблоны glob:
```typescript
files: {
  json: {
    include: [
      "src/locales/[locale].json",
      "src/components/[locale]/*.json"
    ],
  },
}
```

---

## Идентификатор проекта (необязательно)

Если вы используете облачные сервисы Languine, вы можете включить свой идентификатор проекта в конфигурацию:

```typescript
export default defineConfig({
  projectId: "prj_your_project_id",
  locale: {
    // ... конфигурация локали
  },
  files: {
    // ... конфигурация файлов
  },
});
```

---

## Отслеживание состояния перевода

Languine автоматически создает и поддерживает файл languine.lock для отслеживания состояния ваших переводов. Этот файл:

- Отслеживает, какой контент был переведен
- Помогает определить, что нужно обновить, когда изменяется исходный контент
- Должен быть зафиксирован в вашей системе контроля версий

Вам не нужно вручную редактировать файл блокировки - Languine управляет им автоматически, когда вы выполняете команды перевода.

## Лучшие практики

1. **Контроль версий**: Всегда фиксируйте как languine.config.ts, так и languine.lock в вашем репозитории
2. **Организация файлов**: Держите ваши файлы перевода организованными в согласованной структуре каталогов
3. **Языковые коды**: Используйте стандартные языковые коды для обеспечения совместимости
4. **Шаблоны**: Используйте конкретные шаблоны включения, чтобы избежать перевода ненужных файлов
5. **Идентификатор проекта**: Храните свой идентификатор проекта в безопасности и не делитесь им публично, если вы используете облачные сервисы
