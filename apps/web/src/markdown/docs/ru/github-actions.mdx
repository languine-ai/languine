# GitHub Actions

С помощью действия GitHub вы можете легко переводить свой код, просто отправив его в репозиторий. Действие GitHub затем переведет ваши новые ключи, создаст запрос на изменение или зафиксирует ваши изменения.
Это сэкономит вам много времени и усилий при сохранении высококачественных переводов.

---

## Установка

Чтобы использовать действие Languine GitHub в вашем репозитории, вам нужно:

1. Настроить секреты вашего репозитория с вашими учетными данными Languine
2. Создать файл рабочего процесса в вашем репозитории

### Настройка секретов репозитория

Добавьте следующие секреты в настройках вашего репозитория (Настройки > Секреты и переменные > Действия):

- `LANGUINE_API_KEY`: Ваш ключ API Languine
- `LANGUINE_PROJECT_ID`: Ваш идентификатор проекта Languine

Вы можете найти эти значения на вашей панели управления Languine в разделе Настройки проекта.



### Переменные окружения

Действие GitHub использует следующие переменные окружения:
- `LANGUINE_API_KEY` (Обязательно): Ваш ключ API Languine для аутентификации
- `LANGUINE_PROJECT_ID` (Обязательно): Ваш идентификатор проекта Languine 
- `GITHUB_TOKEN` (Обязательно): Автоматически предоставляется GitHub, используется для создания PR

### Пример рабочего процесса

Создайте новый файл .github/workflows/languine.yml в вашем репозитории со следующим содержимым:

```ts title=".github/workflows/release.yml"
name: Развертывание веб-сайта

on:
  push:
    branches:
      - '**'
    paths:
      - apps/web/**

jobs:
  translate:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      
      - name: Действие Languine
        uses: languine/languine-action@v1
        env:
           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          api-key: ${{ secrets.LANGUINE_API_KEY }}
          project-id: ${{ secrets.LANGUINE_PROJECT_ID }}
```
 
 Этот рабочий процесс будет:
- Запускаться при отправке в основную ветку
- Запускаться при запросах на изменение в основную ветку
- Могут быть вызваны вручную на вкладке Действия
- Проверять ваш код и запускать процесс перевода Languine
- Создавать запрос на изменение с любыми новыми переводами (настраиваемый)

#### Опция рабочего каталога

Опция `working-directory` позволяет вам указать, где находятся ваши файлы перевода. Это особенно полезно в монорепозиториях, где ваши переводы могут находиться в конкретном пакете или каталоге приложения. Например:

#### Опция запроса на изменение

Опция `create-pull-request` контролирует, создает ли действие запрос на изменение с изменениями или фиксирует их непосредственно в ветке:

```typescript title=".github/workflows/languine.yml"
with:
  create-pull-request: true # создать запрос на изменение с изменениями
```

При установке в `true` действие будет:
- Создавать новую ветку с изменениями
- Создавать запрос на изменение для проверки
- Добавлять соответствующие метки и описание

При установке в `false` (по умолчанию) действие будет:
- Фиксировать изменения непосредственно в текущей ветке
- Отправлять изменения без создания запроса на изменение