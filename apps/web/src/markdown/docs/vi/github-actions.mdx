# GitHub Actions

Với hành động GitHub, bạn có thể dễ dàng dịch mã của mình chỉ bằng cách đẩy mã của bạn lên kho lưu trữ, hành động GitHub sẽ dịch các khóa mới của bạn, hoặc tạo một yêu cầu kéo hoặc cam kết các thay đổi của bạn.
Điều này giúp bạn tiết kiệm rất nhiều thời gian và công sức trong khi vẫn duy trì chất lượng dịch thuật cao.

---

## Cài đặt

Để sử dụng Hành động GitHub Languine trong kho lưu trữ của bạn, bạn cần:

1. Thiết lập bí mật kho lưu trữ của bạn với thông tin xác thực Languine của bạn
2. Tạo một tệp quy trình làm việc trong kho lưu trữ của bạn

### Thiết lập Bí mật Kho lưu trữ

Thêm các bí mật sau vào cài đặt kho lưu trữ của bạn (Cài đặt > Bí mật và biến > Hành động):

- `LANGUINE_API_KEY`: Khóa API Languine của bạn
- `LANGUINE_PROJECT_ID`: ID dự án Languine của bạn

Bạn có thể tìm thấy các giá trị này trong bảng điều khiển Languine của bạn dưới Cài đặt Dự án.



### Biến Môi trường

Hành động GitHub sử dụng các biến môi trường sau:
- `LANGUINE_API_KEY` (Bắt buộc): Khóa API Languine của bạn để xác thực
- `LANGUINE_PROJECT_ID` (Bắt buộc): ID dự án Languine của bạn 
- `GITHUB_TOKEN` (Bắt buộc): Tự động được cung cấp bởi GitHub, được sử dụng để tạo các yêu cầu kéo

### Ví dụ Quy trình làm việc

Tạo một tệp mới .github/workflows/languine.yml trong kho lưu trữ của bạn với nội dung sau:

```ts title=".github/workflows/release.yml"
name: Triển khai Website

on:
  push:
    branches:
      - '**'
    paths:
      - apps/web/**

jobs:
  translate:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      
      - name: Hành động Languine
        uses: languine/languine-action@v1
        env:
           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          api-key: ${{ secrets.LANGUINE_API_KEY }}
          project-id: ${{ secrets.LANGUINE_PROJECT_ID }}
```
 
 Quy trình làm việc này sẽ:
- Chạy khi có đẩy lên nhánh chính
- Chạy khi có yêu cầu kéo đến nhánh chính
- Có thể được kích hoạt thủ công từ tab Hành động
- Kiểm tra mã của bạn và chạy quy trình dịch Languine
- Tạo một yêu cầu kéo với bất kỳ bản dịch mới nào (có thể cấu hình)

#### Tùy chọn Thư mục làm việc

Tùy chọn `working-directory` cho phép bạn chỉ định nơi các tệp dịch của bạn được đặt. Điều này đặc biệt hữu ích trong các kho lưu trữ đa mô-đun nơi các bản dịch của bạn có thể nằm trong một gói hoặc thư mục ứng dụng cụ thể. Ví dụ:

#### Tùy chọn Yêu cầu kéo

Tùy chọn `create-pull-request` kiểm soát xem hành động có tạo yêu cầu kéo với các thay đổi hay không hoặc cam kết chúng trực tiếp vào nhánh:

```typescript title=".github/workflows/languine.yml"
with:
  create-pull-request: true # tạo một yêu cầu kéo với các thay đổi
```

Khi được đặt thành `true`, hành động sẽ:
- Tạo một nhánh mới với các thay đổi
- Tạo một yêu cầu kéo để xem xét
- Thêm nhãn và mô tả phù hợp

Khi được đặt thành `false` (mặc định), hành động sẽ:
- Cam kết các thay đổi trực tiếp vào nhánh hiện tại
- Đẩy các thay đổi mà không tạo yêu cầu kéo