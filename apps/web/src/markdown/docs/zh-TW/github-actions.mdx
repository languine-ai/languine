# GitHub Actions

使用 GitHub Action，您可以通過將代碼推送到存儲庫輕鬆翻譯您的代碼，GitHub Action 將翻譯您的新鍵，並創建拉取請求或提交您的更改。
這樣可以節省大量時間和精力，同時保持高質量的翻譯。

---

## 安裝

要在您的存儲庫中使用 Languine GitHub Action，您需要：

1. 使用您的 Languine 憑證設置存儲庫密鑰
2. 在您的存儲庫中創建工作流程文件

### 設置存儲庫密鑰

在您的存儲庫設置中添加以下密鑰（設置 > 密鑰和變量 > 操作）：

- `LANGUINE_API_KEY`：您的 Languine API 密鑰
- `LANGUINE_PROJECT_ID`：您的 Languine 項目 ID

您可以在 Languine 儀表板的項目設置中找到這些值。



### 環境變量

GitHub Action 使用以下環境變量：
- `LANGUINE_API_KEY`（必需）：用於身份驗證的 Languine API 密鑰
- `LANGUINE_PROJECT_ID`（必需）：您的 Languine 項目 ID 
- `GITHUB_TOKEN`（必需）：由 GitHub 自動提供，用於創建 PR

### 示例工作流程

在您的存儲庫中創建一個新文件 .github/workflows/languine.yml，內容如下：

```ts title=".github/workflows/release.yml"
name: 部署網站

on:
  push:
    branches:
      - '**'
    paths:
      - apps/web/**

jobs:
  translate:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      
      - name: Languine Action
        uses: languine/languine-action@v1
        env:
           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          api-key: ${{ secrets.LANGUINE_API_KEY }}
          project-id: ${{ secrets.LANGUINE_PROJECT_ID }}
```
 
 此工作流程將：
- 在推送到主分支時運行
- 在對主分支的拉取請求時運行
- 可以從操作選項卡手動觸發
- 檢出您的代碼並運行 Languine 翻譯過程
- 創建一個包含任何新翻譯的拉取請求（可配置）

#### 工作目錄選項

`working-directory` 選項允許您指定翻譯文件的位置。這在單一存儲庫中特別有用，因為您的翻譯可能位於特定的包或應用目錄中。例如：

#### 拉取請求選項

`create-pull-request` 選項控制該操作是否創建一個包含更改的拉取請求或直接將其提交到分支：

```typescript title=".github/workflows/languine.yml"
with:
  create-pull-request: true # 創建一個包含更改的拉取請求
```

當設置為 `true` 時，該操作將：
- 創建一個包含更改的新分支
- 創建一個供審核的拉取請求
- 添加適當的標籤和描述

當設置為 `false`（默認）時，該操作將：
- 直接將更改提交到當前分支
- 在不創建拉取請求的情況下推送更改