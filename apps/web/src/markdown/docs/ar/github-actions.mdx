# إجراءات GitHub

مع إجراء GitHub، يمكنك بسهولة ترجمة كودك من خلال دفع الكود إلى المستودع، ثم سيقوم إجراء GitHub بترجمة المفاتيح الجديدة، إما إنشاء طلب سحب أو الالتزام بالتغييرات الخاصة بك.
هذا يوفر لك الكثير من الوقت والجهد مع الحفاظ على جودة عالية في الترجمات.

---

## التثبيت

لاستخدام إجراء Languine GitHub في مستودعك، ستحتاج إلى:

1. إعداد أسرار المستودع الخاصة بك باستخدام بيانات اعتماد Languine الخاصة بك
2. إنشاء ملف سير العمل في مستودعك

### إعداد أسرار المستودع

أضف الأسرار التالية في إعدادات المستودع الخاص بك (الإعدادات > الأسرار والمتغيرات > الإجراءات):

- `LANGUINE_API_KEY`: مفتاح API الخاص بـ Languine
- `LANGUINE_PROJECT_ID`: معرف مشروع Languine الخاص بك

يمكنك العثور على هذه القيم في لوحة معلومات Languine الخاصة بك تحت إعدادات المشروع.



### متغيرات البيئة

يستخدم إجراء GitHub المتغيرات البيئية التالية:
- `LANGUINE_API_KEY` (مطلوب): مفتاح API الخاص بـ Languine للمصادقة
- `LANGUINE_PROJECT_ID` (مطلوب): معرف مشروع Languine الخاص بك 
- `GITHUB_TOKEN` (مطلوب): يتم توفيره تلقائيًا بواسطة GitHub، ويستخدم لإنشاء طلبات السحب

### مثال على سير العمل

قم بإنشاء ملف جديد .github/workflows/languine.yml في مستودعك بالمحتوى التالي:

```ts title=".github/workflows/release.yml"
name: نشر الموقع

on:
  push:
    branches:
      - '**'
    paths:
      - apps/web/**

jobs:
  translate:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      
      - name: إجراء Languine
        uses: languine/languine-action@v1
        env:
           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          api-key: ${{ secrets.LANGUINE_API_KEY }}
          project-id: ${{ secrets.LANGUINE_PROJECT_ID }}
```
 
 سيقوم هذا السير بالعمل:
- العمل عند الدفع إلى الفرع الرئيسي
- العمل عند طلبات السحب إلى الفرع الرئيسي
- يمكن تفعيله يدويًا من علامة التبويب الإجراءات
- سحب الكود الخاص بك وتشغيل عملية ترجمة Languine
- إنشاء طلب سحب مع أي ترجمات جديدة (قابل للتكوين)

#### خيار دليل العمل

يتيح لك خيار `working-directory` تحديد مكان وجود ملفات الترجمة الخاصة بك. هذا مفيد بشكل خاص في المستودعات الأحادية حيث قد تكون الترجمات في حزمة معينة أو دليل تطبيق. على سبيل المثال:

#### خيار طلب السحب

يحدد خيار `create-pull-request` ما إذا كان الإجراء ينشئ طلب سحب مع التغييرات أو يلتزم بها مباشرة إلى الفرع:

```typescript title=".github/workflows/languine.yml"
with:
  create-pull-request: true # إنشاء طلب سحب مع التغييرات
```

عند تعيينه إلى `true`، سيقوم الإجراء بـ:
- إنشاء فرع جديد مع التغييرات
- إنشاء طلب سحب للمراجعة
- إضافة تسميات ووصف مناسبين

عند تعيينه إلى `false` (الإعداد الافتراضي)، سيقوم الإجراء بـ:
- الالتزام بالتغييرات مباشرة إلى الفرع الحالي
- دفع التغييرات دون إنشاء طلب سحب